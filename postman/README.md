# Postman-коллекции для esm-backend

## Как импортировать в Postman

1. Откройте **Postman**
2. Нажмите **Import** (слева вверху или File → Import)
3. Перетащите JSON-файлы или выберите **Upload Files**
4. Укажите папку `postman/` и выберите нужные коллекции
5. Нажмите **Import**

## Коллекции

- **Authorization and Registration** — логин, регистрация, сброс пароля
- **Posts and Photos Tests** — посты, фотографии, CRUD

## Переменные окружения

Создайте Environment в Postman с переменными:

| Переменная   | Значение                 | Описание                     |
|--------------|--------------------------|------------------------------|
| `base_url`   | `http://localhost:8000/api` | URL API                      |
| `auth_token` | (заполняется после логина)  | Токен авторизации            |
| `user_id`    | (заполняется после логина)  | ID пользователя              |
| `post_id`    | 1                       | ID поста для запросов        |
| `photo_id`   | 1                       | ID фото для удаления         |
| `reset_email`| ваш@email.com           | Email для сброса пароля      |
| `reset_code` | 123456                  | Код из письма (6 цифр)       |

## Nominatim / адреса (ТЗ 10)

| Запрос | Метод | URL | Описание |
|--------|-------|-----|----------|
| Координаты → адрес | POST | `{{base_url}}/address/reverse/` | body: `{"lat": 53.206, "lon": 50.133}` |
| Поиск по адресу | GET | `{{base_url}}/address/search/?q=Самара проспект Ленина&limit=5` | Публичный доступ |

## Порядок тестирования

1. **register** или **1. Логин** — получить `auth_token`
2. **Создать пост** — сохранить `post_id` из ответа
3. **Загрузить фото** — в formdata в поле `photos` нажмите "Select Files" и выберите .jpg файл (например из `postman/test-images/`)
4. Остальные запросы — по необходимости

## Тестовые изображения

Положите в папку `postman/test-images/` файлы:
- `photo.jpg` — для «Загрузить одно фото»
- `photo1.jpg`, `photo2.jpg`, `photo3.jpg` — для «Загрузить несколько фото»

Или укажите путь к любым .jpg файлам при выполнении запроса.
